---
- name: Packages | Update Cache
  tags: [extras,packages]
  apt:
    update_cache: yes
- name: Packages | Install Official Packages
  tags: [extras,packages]
  package:
    name: "{{ item }}"
    state: latest
  with_items:
    - aspell
    - aspell-en
    - aspell-nl
    - audacity
    - bleachbit
    - chkrootkit
    - clamtk
    - composer
    - conky-all
    - davfs2
    - exfat-fuse
    - exfat-utils
    - feh
    - ffmpeg
    - filezilla
    - fslint
    - geany
    - geany-plugins
    - geany-plugin-markdown
    - gimp
    - git
    - gitk
    - gmpc
    - gparted
    - hddtemp
    - hdparm
    - imagemagick
    - keepassx
    - lmms
    - mediainfo-gui
    - meld
    - mkvtoolnix-gui
    - mplayer
    - mpv
    - ocrfeeder
    - openssh-client
    - pdfchain
    - pixz
    - pv
    - pyrenamer
    - python-easywebdav
    - python-termcolor
    - python-keyring
    - rkhunter
    - screen
    - smartmontools
    - software-properties-common
    - sshfs
    - tomboy
    - unetbootin
    - unrar
    # - virtualbox
    # - virtualbox-qt
    # - virtualbox-ext-pack
    - xclip
    - youtube-dl
- name: Packages | Get Main User
  tags: [extras,packages]
  shell: id -nu 1000
  register: get_user_by_id
- name: Packages | Register Main User
  tags: [extras,packages]
  set_fact:
    main_user: "{{get_user_by_id.stdout}}"
- debug:
    var: main_user
- name: Packages | Add User To Groups
  tags: [extras,packages,webdav]
  user:
    name: "{{main_user}}"
    groups: davfs2
    append: yes
- name: Packages | Setuid root
  tags: [extras,packages,webdav]
  file:
    path: /usr/sbin/mount.davfs
    state: touch
    mode: 4755
- name: Packages | Remove Unwanted Packages
  tags: [extras,packages,packages]
  package:
    name: "{{ item }}"
    state: absent
  with_items:
    - hexchat

# TODO:
# gscan2pdf from https://sourceforge.net/projects/gscan2pdf/
# ttf-*
# fonts-*
